<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50/50 p-6">
  
  <div class="max-w-md w-full bg-white shadow-[0_8px_30px_rgb(0,0,0,0.04)] rounded-[2rem] border border-slate-100 p-10 animate-fadeIn relative overflow-hidden">
    
    <div class="absolute -top-24 -right-24 w-48 h-48 bg-blue-50 rounded-full blur-3xl opacity-50"></div>

    <div class="text-center mb-10 relative">
      <div class="inline-flex items-center justify-center w-14 h-14 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200 mb-4 transform -rotate-3 hover:rotate-0 transition-transform duration-300">
        <span class="text-2xl">ğŸ”</span>
      </div>
      <h2 class="text-3xl font-black text-slate-800 tracking-tight leading-tight">Seguridad</h2>
      <p class="text-slate-500 mt-2 font-medium">Actualiza tu acceso para continuar</p>
    </div>

    <div class="space-y-6 relative">
      
      <div class="group">
        <label class="block text-xs uppercase tracking-widest font-bold text-slate-400 mb-2 ml-1">Nueva clave</label>
        <div class="relative">
          <input [type]="showPassword() ? 'text' : 'password'"
                 [ngModel]="newPassword()"
                 (ngModelChange)="newPassword.set($event)"
                 placeholder="Crea una clave fuerte"
                 class="w-full p-4 pr-12 bg-slate-50 border-2 border-transparent rounded-2xl focus:bg-white focus:border-blue-500 focus:ring-0 outline-none transition-all duration-300 text-slate-700 font-medium placeholder:text-slate-300 shadow-inner">
          
          <button (click)="togglePassword()" 
                  type="button"
                  class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 hover:text-blue-500 transition-colors">
            <span class="text-xl material-icons-outlined">{{ showPassword() ? 'ğŸ‘ï¸' : 'ğŸ”’' }}</span>
          </button>
        </div>

        @if (newPassword()) {
          <div class="mt-4 px-1 animate-fadeIn">
            <div class="flex justify-between items-center mb-2">
              <span class="text-[10px] font-black uppercase text-slate-400">Nivel de fuerza</span>
              <span class="text-[10px] font-black uppercase" [ngClass]="passwordStrength().color.replace('bg-', 'text-')">
                {{ passwordStrength().label }}
              </span>
            </div>
            <div class="h-1.5 w-full bg-slate-100 rounded-full overflow-hidden">
              <div class="h-full transition-all duration-700 ease-out shadow-[0_0_8px_rgba(0,0,0,0.1)]" 
                   [ngClass]="passwordStrength().color"
                   [style.width]="passwordStrength().width"></div>
            </div>
          </div>
        }
      </div>

      <div>
        <label class="block text-xs uppercase tracking-widest font-bold text-slate-400 mb-2 ml-1">Confirmar clave</label>
        <input type="password"
               [ngModel]="confirmPassword()"
               (ngModelChange)="confirmPassword.set($event)"
               placeholder="Repite tu clave"
               class="w-full p-4 bg-slate-50 border-2 border-transparent rounded-2xl focus:bg-white focus:border-blue-500 focus:ring-0 outline-none transition-all duration-300 text-slate-700 font-medium placeholder:text-slate-300 shadow-inner">
      </div>

      @if (mensaje()) {
        <div class="p-4 rounded-2xl text-sm font-bold flex items-center gap-3 animate-bounceIn"
             [ngClass]="mensajeExito() ? 'bg-emerald-50 text-emerald-600 border border-emerald-100' : 'bg-rose-50 text-rose-600 border border-rose-100'">
          <span class="flex-shrink-0">{{ mensajeExito() ? 'âœ¨' : 'âš ï¸' }}</span>
          <span class="leading-tight">{{ mensaje() }}</span>
        </div>
      }

      <button (click)="cambiarContrasena()"
              [disabled]="loading() || !newPassword() || newPassword() !== confirmPassword()"
              class="relative w-full overflow-hidden group bg-slate-900 text-white p-5 rounded-2xl font-bold transition-all duration-300 hover:bg-blue-600 hover:shadow-xl hover:shadow-blue-200 disabled:bg-slate-100 disabled:text-slate-300 disabled:shadow-none transform active:scale-[0.98]">
        
        <div class="relative z-10 flex justify-center items-center gap-3">
          @if (loading()) {
            <div class="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>
            <span>Guardando cambios...</span>
          } @else {
            <span>Actualizar contraseÃ±a</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
            </svg>
          }
        </div>
      </button>

    </div>
  </div>
</div>