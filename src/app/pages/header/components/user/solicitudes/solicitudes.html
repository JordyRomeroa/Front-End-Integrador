<div class="contenedor">

  <h1 class="titulo">
    ğŸ“‹ Mis Solicitudes
  </h1>

  @if (loading()) {
    <div class="loading">
      <span class="spinner"></span>
      <p>Cargando solicitudes...</p>
    </div>
  }

  @else if (asesorias().length === 0) {
    <p class="empty">
      No tienes solicitudes registradas aÃºn.
    </p>
  }

  @else {
    <div class="lista">

      @for (asesoria of asesorias(); track asesoria.id) {

        <div
          class="card"
          [ngClass]="{
            'border-pendiente': asesoria.estado === 'pendiente',
            'border-aceptada': asesoria.estado === 'aceptada',
            'border-rechazada': asesoria.estado === 'rechazada'
          }">

          <!-- MENSAJE -->
          <h1 class="subtitulo">Asunto:</h1>
          <p class="mensaje">
            {{ asesoria.mensaje }}
            
          </p>

          <!-- INFO -->
          <div class="info">

            <!-- PROGRAMADOR -->
            <div class="info-item">
              ğŸ‘¨â€ğŸ’»
              <span>{{ asesoria.nombreProgramador }}</span>
            </div>

            <!-- FECHA -->
            <div class="fecha">
              ğŸ“…
              <span>
                {{ asesoria.fecha | date:'EEEE dd MMM yyyy Â· HH:mm' }}
              </span>
            </div>

          </div>

          <!-- ESTADO -->
          <span
            class="estado"
            [ngClass]="estadoClase(asesoria.estado)">

            @if (asesoria.estado === 'pendiente') {
              â³ Pendiente
            }
            @else if (asesoria.estado === 'aceptada') {
              âœ… Aceptada
            }
            @else {
              âŒ Rechazada
            }

          </span>

        </div>

      }

    </div>
  }

</div>
